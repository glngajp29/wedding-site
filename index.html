<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Undangan Rofiq dan Riya</title>
  <link rel="stylesheet" href="style.css" />
  
  <!-- Penting: Tambahkan ini untuk memastikan script modules berjalan dengan benar -->
  <script>
    // Fix untuk beberapa browser lama yang tidak mendukung ES modules
    if (!'noModule' in HTMLScriptElement.prototype) {
      alert('Browser Anda mungkin tidak mendukung fitur terbaru website ini. Mohon gunakan browser terbaru seperti Chrome, Firefox, atau Edge.');
    }
  </script>
</head>
<body>

  <!-- Hero / Halaman Pembuka Undangan -->
  <div class="fade-top"></div>
  
  <div class="hero" id="hero">
    <div class="overlay"></div>
    <div class="hero-content" id="heroContent">
      <div class="line line-wedding" data-animate>The Wedding of</div>
      <div class="line line-couple" data-animate>Rofiq & Riya</div>
      <div class="line line-date" data-animate>Sabtu, 31 Juni 2025</div>

      <div class="invitation">
        <div class="line line-title" data-animate>Kepada Yth.</div>
        <div class="line line-guest-title" data-animate>Bapak/Ibu/Saudara/i:</div>
        <div class="line line-guest-name guest-name" id="guestName" data-animate>[Nama Tamu Undangan]</div>
        <div class="line line-place" data-animate>Di tempat.</div>
      </div>
      
      <audio id="backgroundMusic" src="lesung-pipi.mp3" loop></audio>
      <button class="btn open-btn" id="openBtn" data-animate>Buka Undangan</button>
    </div>
  </div>

  <div class="fade-bottom"></div>

  <!-- Main Content: Isi Undangan (disembunyikan dulu) -->
  <main id="main-content" style="display: none;">

    <!-- Bagian Countdown Menuju Hari H -->
    <section id="countdown" class="section">
      <h2 data-animate>MENUJU HARI BAHAGIA</h2>
      <h2 data-animate>ROFIQ & RIYA</h2>
      <div id="timer" data-animate>Memuat...</div>
    </section>

    <!-- Segmen Quotes -->
    <section class="quote-section" id="quote">
      <div class="quote-overlay"></div>
      <div class="quote-content" data-animate>
        <blockquote>
          "Dan di antara tanda-tanda (kebesaran)-Nya ialah Dia menciptakan pasangan-pasangan untukmu dari jenismu sendiri, agar kamu merasa tenteram kepadanya. Dia menjadikan di antaramu rasa kasih dan sayang. Sungguh, pada yang demikian itu benar-benar terdapat tanda-tanda (kebesaran Allah) bagi kaum yang berpikir."
        </blockquote>
        <p class="quote-author">(QS. Ar-Rum: 21)</p>
      </div>
    </section>

    <section class="couple-section">
      <div class="section-intro">
        <p>Dengan memohon rahmat dan ridho Allah SWT, kami bermaksud menyelenggarakan pernikahan kami:</p>
      </div>

      <div class="couple-container">
        <!-- Mempelai Wanita -->
        <div class="couple-box bride">
          <h3 class="fancy-font">Riya</h3>
          <p class="couple-name">Siti Nur Mariana</p>
          <p class="couple-parent">Putri dari Bapak Hambali & Ibu Minarti</p>
        </div>

        <!-- Mempelai Pria -->
        <div class="couple-box groom">
          <h3 class="fancy-font">Rofiq</h3>
          <p class="couple-name">ABD Rofiq</p>
          <p class="couple-parent">Putra dari Bapak (Alm.) Makki & Ibu Sumayyah</p>
        </div>
      </div>
    </section>

    <section id="acara" class="section seamless-section acara-detail">
      <div class="acara-box full acara-bg">
        <!-- Akad -->
        <h3 class="judul-acara-1 highlight">Akad</h3>
        <p class="info-acara">Sabtu, 31 Oktober 2025</p>
        <p class="info-acara">Pukul 08.00 WIB</p>

        <!-- Resepsi -->
        <h3 class="judul-acara-2 highlight">Resepsi</h3>
        <p class="info-acara">Sabtu, 31 Oktober 2025</p>
        <p class="info-acara">Pukul 11.00 WIB - Selesai</p>

        <!-- Lokasi -->
        <h3 class="alamat-title highlight">Alamat</h3>
        <p class="alamat-acara">Tambelangan, Sampang, Jawa Timur</p>

        <!-- Tombol -->
        <div class="button-wrapper-justify">
          <a href="https://www.google.com/maps?q=-7.059445,113.1650267" class="btn" target="_blank" rel="noopener noreferrer">Lihat Lokasi</a>
          <a href="https://calendar.google.com/calendar/render?action=TEMPLATE&text=Akad+dan+Resepsi+Rofiq+%26+Riya&dates=20251031T010000Z/20251031T050000Z&details=Lokasi:+Tambelangan,+Sampang,+Jawa+Timur&location=Tambelangan,+Sampang,+Jawa+Timur" class="btn" target="_blank" rel="noopener noreferrer">Simpan ke Kalender</a>
        </div>
      </div>
    </section>

    <section class="rsvp-section">
      <h2 class="rsvp-title">RSVP</h2>
      <p class="rsvp-subtitle">
        *Diharapkan Kepada Tamu Undangan Untuk Mengisi Form Kehadiran Dibawah Ini
      </p>

      <form id="rsvp-form" class="rsvp-form">
        <input type="text" id="guest-name" placeholder="Nama" required />
        <textarea id="guest-message" placeholder="Berikan ucapan & doa" rows="4" required></textarea>
        <select id="guest-attendance" required>
          <option value="" disabled selected>Konfirmasi Kehadiran</option>
          <option value="Hadir">Hadir</option>
          <option value="Tidak Hadir">Tidak Hadir</option>
          <option value="Masih Ragu">Masih Ragu</option>
        </select>
        <button type="submit" class="submit-btn">Berikan Ucapan</button>
      </form>

      <div class="segment-divider-top"></div>

      <div class="rsvp-comments-container">
        <div class="comment-wrapper">
          <div id="comment-section">
            <!-- komentar akan dimuat dari Firebase -->
          </div>
        </div>
        <div class="segment-divider-bot"></div>
      </div>
    </section>

    <section class="gift-section">
      <div class="gift-container">
        <h2 class="gift-title">Wedding Love Gift</h2>
        <p class="gift-description">
          Apabila tamu ingin mengirimkan hadiah kepada kedua mempelai dapat melalui virtual account </p>
        <button class="gift-btn" id="toggleGiftBtn">Kirim Hadiah</button>

        <div class="gift-details" id="giftDetails">
          <div class="gift-image-wrapper">
            <img src="atm.png" alt="ATM Info" class="gift-img" />
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/ad/Bank_Mandiri_logo_2016.svg/2560px-Bank_Mandiri_logo_2016.svg.png" alt="Bank Mandiri" class="mandiri-logo" />
          </div>

          <div class="atm-overlay">
            <p class="rekening-text" id="rekening-number">
              1234567890<br />
              <span class="nama-rekening">a.n. Nama Mempelai</span>
            </p>
            <button class="copy-btn" id="copyBtn">Copy Rekening</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer>
      <p>Terima kasih atas doa dan restunya üôè</p>
    </footer>

  </main>

  <div id="toast" class="toast">Berhasil disalin!</div>

  <!-- PENTING: Gunakan type="module" agar import Firebase bekerja -->
  <script type="module" src="script.js"></script>
</body>
</html>